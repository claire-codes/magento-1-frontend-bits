{"data":{"site":{"siteMetadata":{"title":"Magento 1 Frontend Bits","author":"Claire Parker-Jones"}},"markdownRemark":{"id":"d91439a7-baf3-5833-86a3-8c6390cdab7d","html":"<p>Snippets are an underappreciated feature of code editors, which can increase your typing speed when writing code. Snippets provide autocompletion for common chunks of code. Type a few characters, then hit tab or enter, and the snippet expands into the full code block required.</p>\n<p>Most code editors come with a variety of built-in snippets covering common syntax. For example, typing the word <code class=\"language-text\">log</code> and enter from within a JavaScript file in Atom will expand into our trusty friend, <code class=\"language-text\">console.log(&quot;&quot;)</code>. However, if you’re using an editor other than PHPStorm to work with Magento, you may find yourself missing some useful ones. This is especially true in template files (<code class=\"language-text\">.phtml</code> filetypes).</p>\n<p>Recently I’ve been working on a new feature that required a lot of new text content. I was repeatedly typing the template method to translate text. So to save myself time and keystrokes, I created a snippet for this pattern. Now instead of typing <code class=\"language-text\">&lt;?php echo $this-&gt;__(&#39;Text to translate.&#39;); ?&gt;</code> “by hand”, I only need to type <code class=\"language-text\">__</code> and hit tab to make the value appear.</p>\n<p><img src=\"/autocomplete-2223bc9b26840e96a1feee97c88823ca.gif\" alt=\"translate snippet\"></p>\n<p>Here’s how I did this, for in the Atom text editor.</p>\n<h2>Atom</h2>\n<p>Atom’s core <code class=\"language-text\">language-</code> packages all include built-in snippets. Custom user snippets for different file types are stored in a single <code class=\"language-text\">snippets.cson</code> file. To open this file, open the command palette (Cmd + Shift + P on Mac) and select the “Application: Open Your Snippets” command. Or, from the menu bar in Mac, open the main Atom menu and select the <code class=\"language-text\">Snippets</code> option.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8736daf821c7e831114b0c2a58a03292/6f6d0/command-palette.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.945397815912635%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQY033QSW6DMBQGYF+jLQYz2BCgAsxghtiMgkAgtIsqau5/kLpZdUOlT//q6U3gTbWwX2CPYS/XHYYIRSR+ov/Q7URBJ6AaLmu/WP2Z8A83XeygI0Fvh4MTHQt7N54MJwFQw6Lfx/XeTHc+PurLY9q+ebfnfCnE9UhZrwbxgaLhnE/NcCuaLRU7E3s9bOw8homI0voIzRrd8oCiWmnZi27J+EKrW1yt5/aaFJ0bMC/Mj/hRgcyTnGzJUt7OGZ+jckuqS85nyhovLPyoPPJOK2S64EXR5dny53IFqJmylwQRhjpREYHoN7VnygP/eoXGDzG+Un8NLt0vAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"command palette\"\n        title=\"\"\n        src=\"/static/8736daf821c7e831114b0c2a58a03292/b9e4f/command-palette.png\"\n        srcset=\"/static/8736daf821c7e831114b0c2a58a03292/cf440/command-palette.png 148w,\n/static/8736daf821c7e831114b0c2a58a03292/d2d38/command-palette.png 295w,\n/static/8736daf821c7e831114b0c2a58a03292/b9e4f/command-palette.png 590w,\n/static/8736daf821c7e831114b0c2a58a03292/f9b6a/command-palette.png 885w,\n/static/8736daf821c7e831114b0c2a58a03292/2d849/command-palette.png 1180w,\n/static/8736daf821c7e831114b0c2a58a03292/6f6d0/command-palette.png 1282w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>You can also access this file directly at <code class=\"language-text\">~/.atom/snippets.cson</code>. The comments show an example snippet and a link to the <a href=\"http://flight-manual.atom.io/using-atom/sections/snippets/\">official documentation</a>. This will explain the definition of each property to use in the Coffeescript object.</p>\n<p>The difficulty with snippets is knowing the correct file scope to use. Since Magento template files are the <code class=\"language-text\">.phtml</code> filetype, they contain both PHP and HTML scope. Luckily there’s a method within Atom to discover the scope you need .</p>\n<p>Open a file in which you want the snippet to be available, and place the cursor in the correct location. Note that scope can vary within a file. For example, if you want the snippet to be available within a <code class=\"language-text\">&lt;?php ... ?&gt;</code> block, place the cursor within a block, and not outside it. Open the command palette and select the <code class=\"language-text\">Editor: Log Cursor Scope</code> command. A notification will appear, showing a list of scopes available. The one required for the snippet should be the top one.</p>\n<p>For my case, I want the snippet to be available within <code class=\"language-text\">.phtml</code> template files, whilst typing HTML. So the scope I need is <code class=\"language-text\">.text.html.php</code> (and not <code class=\"language-text\">.source.php</code> or <code class=\"language-text\">.text.html.basic</code> as I had guessed!).</p>\n<p>When you save your snippet, Atom will automatically reload them and they should be available immediately in your active text editor (if the syntax is correct!). My final result was this:</p>\n<div class=\"gatsby-highlight\" data-language=\"coffeescript\"><pre class=\"language-coffeescript\"><code class=\"language-coffeescript\"><span class=\"token string\">'.text.html.php'</span><span class=\"token punctuation\">:</span>\n  <span class=\"token string\">'translate'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token string\">'prefix'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'__'</span>\n    <span class=\"token string\">'body'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'&lt;?php echo $this->__(\\'${1}\\'); ?>'</span></code></pre></div>\n<p>All I do is type two underscores, hit either tab or enter, and the snippet appears on screen with my cursor focussed at the <code class=\"language-text\">${1}</code> location. Just what I wanted!</p>\n<p>The next time you find yourself typing the same chunk of code repeatedly, think about how you could streamline your process with a snippet instead.</p>","frontmatter":{"title":"How to add snippets for templates in Atom","date":"February 15, 2018"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/atom-snippets/","previous":false,"next":{"fields":{"slug":"/cms-cms/"},"frontmatter":{"title":"How to output a CMS block from another CMS block"}}}}