<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Magento 1 Frontend Bits]]></title><description><![CDATA[A blog about working with Magento 1 for frontend developers.]]></description><link>https://claireparker.github.io/magento-1-frontend-bits/</link><generator>RSS for Node</generator><lastBuildDate>Wed, 28 Feb 2018 22:10:09 GMT</lastBuildDate><item><title><![CDATA[How to output a CMS block from another CMS block]]></title><description><![CDATA[Imagine you a CMS block, which you use to output some nice text. But now you want to include the contents of  another  CMS block, right slap…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//cms-cms/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//cms-cms/</guid><pubDate>Tue, 27 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-none&quot;&gt;&lt;code&gt;{{ block type=“cms/block” block_id=“[block-identifier]” }}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;Imagine you a CMS block, which you use to output some nice text. But now you want to include the contents of &lt;em&gt;another&lt;/em&gt; CMS block, right slap-bang in the middle of it!&lt;/p&gt;
&lt;p&gt;For that you need to use the block directive. When you’re working with CMS blocks in Magento, you can use directives within the text content of the CMS block or page. Directives are defined by double curly brackets &lt;code&gt;{{ directive }}&lt;/code&gt; and provide access to file paths, site urls, translations and much more. Google them for the possibilities!&lt;/p&gt;
&lt;p&gt;Several different directive types exist, which require different arguments. The block directive is quite straightfoward in its purpose: it retrieves the content of the specified block and outputs it into the CMS block where it was called.&lt;/p&gt;
&lt;p&gt;To output the contents of a CMS block called “footer-links”, the directive definition would look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-none&quot;&gt;&lt;code&gt;{{ block type=“cms/block” block_id=“footer-links” }}&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;The &lt;code&gt;type&lt;/code&gt; should be “cms/block” and the &lt;code&gt;block_id&lt;/code&gt; argument should match the identifier of the CMS block to be loaded. The ID can be found by checking it in the admin panel if you’re not sure (under &lt;code&gt;CMS&lt;/code&gt; &gt; &lt;code&gt;Static blocks&lt;/code&gt; menu).&lt;/p&gt;
&lt;h2&gt;Why would I split my blocks up like that?&lt;/h2&gt;
&lt;p&gt;Maybe you’re wondering why you wouldn’t just have a single CMS block that contained all this content instead of two separate blocks?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perhaps you need to display the CMS content on different pages, e.g. social media links or contact details. Using a single block for the content and loading it into the different pages reduces repeated code and means there’s only one place to edit if there are any changes.&lt;/li&gt;
&lt;li&gt;It can be confusing and difficult to work with a very large CMS file, especially in Magento’s WYSIWYG editor. It can be easier to split a large file into distinct sections, and use a parent block to group them together and be resposible for the display. This makes it easier to work with the files, and often helps organise the site better. This is also a good tactic for phtml templates.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bonus: PHTML template syntax&lt;/h2&gt;
&lt;p&gt;Compare the CMS directive syntax with the equivalent needed to output the CMS block within a phtml template:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-html&quot;&gt;&lt;code&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?php echo $this-&gt;getLayout()-&gt;createBlock(&apos;cms/block&apos;)-&gt;setBlockId(&apos;footer-links&apos;)-&gt;toHtml() ?&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Do you need CDATA in templates?]]></title><description><![CDATA[In my opinion: no. But it depends. What does CDATA do? You may have found  CDATA  declarations in template files (filetype  .phtml ), CDATA…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//cdata/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//cdata/</guid><pubDate>Tue, 20 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;In my opinion: no.&lt;/p&gt;
&lt;p&gt;But it depends.&lt;/p&gt;
&lt;h2&gt;What does CDATA do?&lt;/h2&gt;
&lt;p&gt;You may have found &lt;code&gt;CDATA&lt;/code&gt; declarations in template files (filetype &lt;code&gt;.phtml&lt;/code&gt;),&lt;/p&gt;
&lt;p&gt;CDATA marks the text inside as not being XML or HTML. It is ignored by the XML parser.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.w3.org/TR/REC-xml/#sec-cdata-sect&quot;&gt;https://www.w3.org/TR/REC-xml/#sec-cdata-sect&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://magento.stackexchange.com/questions/164569/put-cdata-it-is-a-good-practice-or-not-necessarily-magento-1-9&quot;&gt;https://magento.stackexchange.com/questions/164569/put-cdata-it-is-a-good-practice-or-not-necessarily-magento-1-9&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It’s for validating XHTML markup when JavaScript is inline in the template. It means the validator doesn’t fail and ignores anything between those tags.&lt;/p&gt;
&lt;p&gt;This shouldn’t matter if you’re using the latest html5 doctype.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/66837/when-is-a-cdata-section-necessary-within-a-script-tag?rq=1&quot;&gt;https://stackoverflow.com/questions/66837/when-is-a-cdata-section-necessary-within-a-script-tag?rq=1&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How to add snippets for templates in Atom]]></title><description><![CDATA[Snippets are an underappreciated feature of code editors, which can increase your typing speed when writing code. Snippets provide…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//atom-snippets/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//atom-snippets/</guid><pubDate>Thu, 15 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;Snippets are an underappreciated feature of code editors, which can increase your typing speed when writing code. Snippets provide autocompletion for common chunks of code. Type a few characters, then hit tab or enter, and the snippet expands into the full code block required.&lt;/p&gt;
&lt;p&gt;Most code editors come with a variety of built-in snippets covering common syntax. For example, typing the word &lt;code&gt;log&lt;/code&gt; and enter from within a JavaScript file in Atom will expand into our trusty friend, &lt;code&gt;console.log(&quot;&quot;)&lt;/code&gt;. However, if you’re using an editor other than PHPStorm to work with Magento, you may find yourself missing some useful ones. This is especially true in template files (&lt;code&gt;.phtml&lt;/code&gt; filetypes).&lt;/p&gt;
&lt;p&gt;Recently I’ve been working on a new feature that required a lot of new text content. I was repeatedly typing the template method to translate text. So to save myself time and keystrokes, I created a snippet for this pattern. Now instead of typing &lt;code&gt;&amp;#x3C;?php echo $this-&gt;__(&apos;Text to translate.&apos;); ?&gt;&lt;/code&gt; “by hand”, I only need to type &lt;code&gt;__&lt;/code&gt; and hit tab to make the value appear.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/autocomplete-2223bc9b26840e96a1feee97c88823ca.gif&quot; alt=&quot;translate snippet&quot;&gt;&lt;/p&gt;
&lt;p&gt;Here’s how I did this, for in the Atom text editor.&lt;/p&gt;
&lt;h2&gt;Atom&lt;/h2&gt;
&lt;p&gt;Atom’s core &lt;code&gt;language-&lt;/code&gt; packages all include built-in snippets. Custom user snippets for different file types are stored in a single &lt;code&gt;snippets.cson&lt;/code&gt; file. To open this file, open the command palette (Cmd + Shift + P on Mac) and select the “Application: Open Your Snippets” command. Or, from the menu bar in Mac, open the main Atom menu and select the &lt;code&gt;Snippets&lt;/code&gt; option.&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-66b54.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.945397815912635%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQY033QSW6DMBQGYF+jLQYz2BCgAsxghtiMgkAgtIsqau5/kLpZdUOlT//q6U3gTbWwX2CPYS/XHYYIRSR+ov/Q7URBJ6AaLmu/WP2Z8A83XeygI0Fvh4MTHQt7N54MJwFQw6Lfx/XeTHc+PurLY9q+ebfnfCnE9UhZrwbxgaLhnE/NcCuaLRU7E3s9bOw8homI0voIzRrd8oCiWmnZi27J+EKrW1yt5/aaFJ0bMC/Mj/hRgcyTnGzJUt7OGZ+jckuqS85nyhovLPyoPPJOK2S64EXR5dny53IFqJmylwQRhjpREYHoN7VnygP/eoXGDzG+Un8NLt0vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;command palette&quot;
        title=&quot;&quot;
        src=&quot;/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-fb8a0.png&quot;
        srcset=&quot;/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-1a291.png 148w,
/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-2bc4a.png 295w,
/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-fb8a0.png 590w,
/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-526de.png 885w,
/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-fa2eb.png 1180w,
/magento-1-frontend-bits/static/command-palette-8736daf821c7e831114b0c2a58a03292-66b54.png 1282w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;You can also access this file directly at &lt;code&gt;~/.atom/snippets.cson&lt;/code&gt;. The comments show an example snippet and a link to the &lt;a href=&quot;http://flight-manual.atom.io/using-atom/sections/snippets/&quot;&gt;official documentation&lt;/a&gt;. This will explain the definition of each property to use in the Coffeescript object.&lt;/p&gt;
&lt;p&gt;The difficulty with snippets is knowing the correct file scope to use. Since Magento template files are the &lt;code&gt;.phtml&lt;/code&gt; filetype, they contain both PHP and HTML scope. Luckily there’s a method within Atom to discover the scope you need .&lt;/p&gt;
&lt;p&gt;Open a file in which you want the snippet to be available, and place the cursor in the correct location. Note that scope can vary within a file. For example, if you want the snippet to be available within a &lt;code&gt;&amp;#x3C;?php ... ?&gt;&lt;/code&gt; block, place the cursor within a block, and not outside it. Open the command palette and select the &lt;code&gt;Editor: Log Cursor Scope&lt;/code&gt; command. A notification will appear, showing a list of scopes available. The one required for the snippet should be the top one.&lt;/p&gt;
&lt;p&gt;For my case, I want the snippet to be available within &lt;code&gt;.phtml&lt;/code&gt; template files, whilst typing HTML. So the scope I need is &lt;code&gt;.text.html.php&lt;/code&gt; (and not &lt;code&gt;.source.php&lt;/code&gt; or &lt;code&gt;.text.html.basic&lt;/code&gt; as I had guessed!).&lt;/p&gt;
&lt;p&gt;When you save your snippet, Atom will automatically reload them and they should be available immediately in your active text editor (if the syntax is correct!). My final result was this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot;&gt;
      &lt;pre class=&quot;language-coffeescript&quot;&gt;&lt;code&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.text.html.php&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;translate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;prefix&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__&apos;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;?php echo $this-&gt;__(\&apos;${1}\&apos;); ?&gt;&apos;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
      &lt;/div&gt;
&lt;p&gt;All I do is type two underscores, hit either tab or enter, and the snippet appears on screen with my cursor focussed at the &lt;code&gt;${1}&lt;/code&gt; location. Just what I wanted!&lt;/p&gt;
&lt;p&gt;The next time you find yourself typing the same chunk of code repeatedly, think about how you could streamline your process with a snippet instead.&lt;/p&gt;</content:encoded></item></channel></rss>