<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Magento 1 Frontend Bits]]></title><description><![CDATA[A blog about working with Magento 1 for frontend developers.]]></description><link>https://claireparker.github.io/magento-1-frontend-bits/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 13 May 2019 07:22:37 GMT</lastBuildDate><item><title><![CDATA[CDATA tags in Magento templates]]></title><description><![CDATA[What is a CDATA tag? Why is it in your Magento template file? (or any HTML file for that matter) Have you wondered what they do? Or whether…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//cdata/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//cdata/</guid><pubDate>Sun, 12 May 2019 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;What is a CDATA tag? Why is it in your Magento template file? (or any HTML file for that matter) Have you wondered what they do? Or whether you need them?&lt;/p&gt;
&lt;h2&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;CDATA tags are unnecessary for modern websites with a HTML5 doctype. They are a deprecated feature in HTML websites. (They might be useful for XML docs though) They tell XML parsers/validators to ignore the contents within them - this is why JavaScript is in it. Delete them if you see them in the template you’re working in (but don’t go out of your way to do so, as they’re harmless). While you’re at it, delete &lt;code class=&quot;language-text&quot;&gt;type=“text/javascript”&lt;/code&gt; too!&lt;/p&gt;
&lt;h2&gt;What do CDATA tags signify?&lt;/h2&gt;
&lt;p&gt;The W3C defines CDATA:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;CDATA sections may occur anywhere character data may occur; they are used to escape blocks of text containing characters which would otherwise be recognized as markup. CDATA sections begin with the string ” &lt;![CDATA[ &quot; and end with the string &quot; ]]&gt; ”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;xml&quot;&gt;&lt;pre class=&quot;language-xml&quot;&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;token cdata&quot;&gt;&amp;lt;![CDATA[&amp;lt;greeting&gt;Hello, world!&amp;lt;/greeting&gt;]]&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You’ll find them in Magento templates within inline script tags &lt;code class=&quot;language-text&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt;. If the markup in the template is being validated against XHTML standards, the tags indicate to the parser that the contents should be ignored, as it isn’t valid XML, since XHTML validators require that the page conforms to XML markup requirements. It prevents the site from failing validation by the contents within the CDATA tags.&lt;/p&gt;
&lt;h2&gt;XHTML?&lt;/h2&gt;
&lt;p&gt;Yes, older websites used an XHTML Doctype. However, modern websites should be using &lt;code class=&quot;language-text&quot;&gt;html5&lt;/code&gt;. This means that the website no longer needs to pass this validation. The CDATA tags are now useless in the context of templates.&lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Does your site use a HTML5 doctype? If it does, then you don’t need to use CDATA tags.&lt;/p&gt;
&lt;p&gt;If you still need to pass XHTML validation for your website (perhaps you’re using an old Doctype) then keep the tags. If not, and you’re using html5, then don’t use the tags. However they won’t cause your website to break, so if you’re editing a file and find some, delete them, but don’t go out of your way to remove them in every file if there are a lot of them.&lt;/p&gt;
&lt;h3&gt;Bonus&lt;/h3&gt;
&lt;p&gt;Older Magento sites also often have an “type” attribute on script tags. This is also unnecessary for sites using the modern &lt;code class=&quot;language-text&quot;&gt;html5&lt;/code&gt; doctype, and was syntac for HTML 4. (&lt;a href=&quot;https://stackoverflow.com/questions/20771400/script-tag-vs-script-type-text-javascript-tag&quot;&gt;https://stackoverflow.com/questions/20771400/script-tag-vs-script-type-text-javascript-tag&lt;/a&gt;). For example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text/javascript&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Some JavaScript&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;type=&amp;quot;text/javascript&amp;quot;&lt;/code&gt; can be safely removed without changing the behaviour of the page.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Comments in phtml templates]]></title><description><![CDATA[Magento is a framework built in PHP. It uses phtml files for templates. What’s a phtml file you ask? Well:If a PHP file and a HTML file had…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//phtml-comments/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//phtml-comments/</guid><pubDate>Thu, 08 Mar 2018 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;Magento is a framework built in PHP. It uses phtml files for templates. What’s a phtml file you ask? Well:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;PHP + HTML = phtml&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If a PHP file and a HTML file had a baby, a phtml file would be the result. &lt;a href=&quot;http://devdocs.magento.com/guides/m1x/magefordev/mage-for-dev-4.html&quot;&gt;Alan Storm talks a bit more about phtml files here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We can write HTML in a phtml file, and also PHP, as long as it’s within a special tag.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;This is normal HTML&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  PHP can output strings:
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?php echo &apos;Bonjour&apos;; ?&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  PHP will also calculate values, so this will show 5:
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?php 2 + 3; ?&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;span&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(Remember not to abuse this though - abstract business logic into block methods, and leave display concerns for templates.)&lt;/p&gt;
&lt;h2&gt;Comments in template files&lt;/h2&gt;
&lt;p&gt;It’s always a good idea to document your code with comments. However, when you add HTML-style comments, they appear in the final compiled code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;&amp;lt;!-- A comment that you’ll be able to see in the live site --&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Normal markup&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But as this is a phtml file, we can also use PHP-style comments. If we use these instead, the comments are compiled by PHP and not output in the final source of the website!&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?php /* I am a comment */ ?&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Normal HTML markup.&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;p&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is very useful. Comments should be only be seen by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You and other developers working on the project&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Comments should not be seen by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Users or customers of the site&lt;/li&gt;
&lt;li&gt;Nosey people looking at the source code in Dev Tools&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So write PHP-style comments in your templates and only allow fellow devs to them.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Setting a custom validation message]]></title><description><![CDATA[Magento 1 provides loads of validation rules out of the box, which cover most scenarios. It’s very common to check that a field contains…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//validation-rule/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//validation-rule/</guid><pubDate>Wed, 28 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;Magento 1 provides loads of validation rules out of the box, which cover most scenarios. It’s very common to check that a field contains only numbers, or isn’t blank. But how do you customise the validation message that displays when validation fails?&lt;/p&gt;
&lt;p&gt;Imagine you have a form field to capture a user’s nickname. This field is mandatory and must contain a value before submitting the form. So you do something like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;form&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;some-form&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;label&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;nickname&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Nickname&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;input&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;nickname&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;nickname&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;required-entry&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;button&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Submit&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;button&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;form&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token script&quot;&gt;&lt;span class=&quot;token language-javascript&quot;&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; someForm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;VarienForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;some-form&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;script&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This short example demonstrates how to initialise form validation in Magento 1. Create a new &lt;code class=&quot;language-text&quot;&gt;VarienForm&lt;/code&gt; with the ID of the form. In each field that requires validation, set a class with the name corresponding to the relevant rule.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;required-entry&lt;/code&gt; is the name of the rule that checks that the field contains a value. This means that if the user doesn’t enter anything in the &lt;code class=&quot;language-text&quot;&gt;nickname&lt;/code&gt; field, the form will fail to send. The error message “This is a required field” will display underneath the nickname input.&lt;/p&gt;
&lt;p&gt;But how do you change this message to something more specific? You have to write a brand new validation rule of course!&lt;/p&gt;
&lt;p&gt;This involves duplicating the original &lt;code class=&quot;language-text&quot;&gt;required-entry&lt;/code&gt; rule, and changing the message. Find the original rule in the file &lt;code class=&quot;language-text&quot;&gt;js/prototype/validation.js&lt;/code&gt;, at &lt;a href=&quot;https://github.com/OpenMage/magento-mirror/blob/magento-1.9/js/prototype/validation.js#421&quot;&gt;line 421&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;Validation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addAllThese&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;required-entry&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;This is a required field.&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Validation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;IsEmpty&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We need to amend the PrototypeJS method to add a single rule, and rename it. Place this new code within a script tag in your template, or better still in a separate file that holds all your custom validation rules.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;Validation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;validate-nickname&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;You must enter a nickname&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;Validation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;IsEmpty&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;v&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, replace the classname &lt;code class=&quot;language-text&quot;&gt;required-entry&lt;/code&gt; with &lt;code class=&quot;language-text&quot;&gt;validate-nickname&lt;/code&gt; on the nickname form field. Submit the form with an empty nickname and the new error message will appear.&lt;/p&gt;
&lt;p&gt;Repeat as many times as needed for each custom error message. you can also use this technique on other exisiting rules and not only &lt;code class=&quot;language-text&quot;&gt;required-entry&lt;/code&gt;. Poke around in the core &lt;code class=&quot;language-text&quot;&gt;validation.js&lt;/code&gt; file and copy any rules that fit your purpose. Unfortunately this is tedious and repetitive if you have many form fields to customise, but that’s Magento 1! &lt;code class=&quot;language-text&quot;&gt;¯\_(ツ)_/¯&lt;/code&gt; 🤷‍♀️&lt;/p&gt;</content:encoded></item><item><title><![CDATA[How to output a CMS block from another CMS block]]></title><description><![CDATA[Imagine you a CMS block, which you use to output some nice text. But now you want to include the contents of another CMS block, right slap…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//cms-cms/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//cms-cms/</guid><pubDate>Tue, 27 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{{ block type=“cms/block” block_id=“[block-identifier]” }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Imagine you a CMS block, which you use to output some nice text. But now you want to include the contents of &lt;em&gt;another&lt;/em&gt; CMS block, right slap-bang in the middle of it!&lt;/p&gt;
&lt;p&gt;For that you need to use the block directive. When you’re working with CMS blocks in Magento, you can use directives within the text content of the CMS block or page. Directives are defined by double curly brackets &lt;code class=&quot;language-text&quot;&gt;{{ directive }}&lt;/code&gt; and provide access to file paths, site urls, translations and much more. Google them for the possibilities!&lt;/p&gt;
&lt;p&gt;Several different directive types exist, which require different arguments. The block directive is quite straightfoward in its purpose: it retrieves the content of the specified block and outputs it into the CMS block where it was called.&lt;/p&gt;
&lt;p&gt;To output the contents of a CMS block called “footer-links”, the directive definition would look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{{ block type=“cms/block” block_id=“footer-links” }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;type&lt;/code&gt; should be “cms/block” and the &lt;code class=&quot;language-text&quot;&gt;block_id&lt;/code&gt; argument should match the identifier of the CMS block to be loaded. The ID can be found by checking it in the admin panel if you’re not sure (under &lt;code class=&quot;language-text&quot;&gt;CMS&lt;/code&gt; &gt; &lt;code class=&quot;language-text&quot;&gt;Static blocks&lt;/code&gt; menu).&lt;/p&gt;
&lt;h2&gt;Why would I split my blocks up like that?&lt;/h2&gt;
&lt;p&gt;Maybe you’re wondering why you wouldn’t just have a single CMS block that contained all this content instead of two separate blocks?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perhaps you need to display the CMS content on different pages, e.g. social media links or contact details. Using a single block for the content and loading it into the different pages reduces repeated code and means there’s only one place to edit if there are any changes.&lt;/li&gt;
&lt;li&gt;It can be confusing and difficult to work with a very large CMS file, especially in Magento’s WYSIWYG editor. It can be easier to split a large file into distinct sections, and use a parent block to group them together and be resposible for the display. This makes it easier to work with the files, and often helps organise the site better. This is also a good tactic for phtml templates.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Bonus: PHTML template syntax&lt;/h2&gt;
&lt;p&gt;Compare the CMS directive syntax with the equivalent needed to output the CMS block within a phtml template:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token prolog&quot;&gt;&amp;lt;?php echo $this-&gt;getLayout()-&gt;createBlock(&apos;cms/block&apos;)-&gt;setBlockId(&apos;footer-links&apos;)-&gt;toHtml()
?&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[How to add snippets for templates in Atom]]></title><description><![CDATA[Snippets are an underappreciated feature of code editors, which can increase your typing speed when writing code. Snippets provide…]]></description><link>https://claireparker.github.io/magento-1-frontend-bits//atom-snippets/</link><guid isPermaLink="false">https://claireparker.github.io/magento-1-frontend-bits//atom-snippets/</guid><pubDate>Thu, 15 Feb 2018 23:46:37 GMT</pubDate><content:encoded>&lt;p&gt;Snippets are an underappreciated feature of code editors, which can increase your typing speed when writing code. Snippets provide autocompletion for common chunks of code. Type a few characters, then hit tab or enter, and the snippet expands into the full code block required.&lt;/p&gt;
&lt;p&gt;Most code editors come with a variety of built-in snippets covering common syntax. For example, typing the word &lt;code class=&quot;language-text&quot;&gt;log&lt;/code&gt; and enter from within a JavaScript file in Atom will expand into our trusty friend, &lt;code class=&quot;language-text&quot;&gt;console.log(&amp;quot;&amp;quot;)&lt;/code&gt;. However, if you’re using an editor other than PHPStorm to work with Magento, you may find yourself missing some useful ones. This is especially true in template files (&lt;code class=&quot;language-text&quot;&gt;.phtml&lt;/code&gt; filetypes).&lt;/p&gt;
&lt;p&gt;Recently I’ve been working on a new feature that required a lot of new text content. I was repeatedly typing the template method to translate text. So to save myself time and keystrokes, I created a snippet for this pattern. Now instead of typing &lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php echo $this-&amp;gt;__(&amp;#39;Text to translate.&amp;#39;); ?&amp;gt;&lt;/code&gt; “by hand”, I only need to type &lt;code class=&quot;language-text&quot;&gt;__&lt;/code&gt; and hit tab to make the value appear.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/magento-1-frontend-bits/autocomplete-2223bc9b26840e96a1feee97c88823ca.gif&quot; alt=&quot;translate snippet&quot;&gt;&lt;/p&gt;
&lt;p&gt;Here’s how I did this, for in the Atom text editor.&lt;/p&gt;
&lt;h2&gt;Atom&lt;/h2&gt;
&lt;p&gt;Atom’s core &lt;code class=&quot;language-text&quot;&gt;language-&lt;/code&gt; packages all include built-in snippets. Custom user snippets for different file types are stored in a single &lt;code class=&quot;language-text&quot;&gt;snippets.cson&lt;/code&gt; file. To open this file, open the command palette (Cmd + Shift + P on Mac) and select the “Application: Open Your Snippets” command. Or, from the menu bar in Mac, open the main Atom menu and select the &lt;code class=&quot;language-text&quot;&gt;Snippets&lt;/code&gt; option.&lt;/p&gt;
&lt;p&gt;&lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/6f6d0/command-palette.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 34.945397815912635%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQY033QSW6DMBQGYF+jLQYz2BCgAsxghtiMgkAgtIsqau5/kLpZdUOlT//q6U3gTbWwX2CPYS/XHYYIRSR+ov/Q7URBJ6AaLmu/WP2Z8A83XeygI0Fvh4MTHQt7N54MJwFQw6Lfx/XeTHc+PurLY9q+ebfnfCnE9UhZrwbxgaLhnE/NcCuaLRU7E3s9bOw8homI0voIzRrd8oCiWmnZi27J+EKrW1yt5/aaFJ0bMC/Mj/hRgcyTnGzJUt7OGZ+jckuqS85nyhovLPyoPPJOK2S64EXR5dny53IFqJmylwQRhjpREYHoN7VnygP/eoXGDzG+Un8NLt0vAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;&lt;/span&gt;
    &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot;
        alt=&quot;command palette&quot;
        title=&quot;&quot;
        src=&quot;/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/b9e4f/command-palette.png&quot;
        srcset=&quot;/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/cf440/command-palette.png 148w,
/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/d2d38/command-palette.png 295w,
/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/b9e4f/command-palette.png 590w,
/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/f9b6a/command-palette.png 885w,
/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/2d849/command-palette.png 1180w,
/magento-1-frontend-bits/static/8736daf821c7e831114b0c2a58a03292/6f6d0/command-palette.png 1282w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
  &lt;/span&gt;
  &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can also access this file directly at &lt;code class=&quot;language-text&quot;&gt;~/.atom/snippets.cson&lt;/code&gt;. The comments show an example snippet and a link to the &lt;a href=&quot;http://flight-manual.atom.io/using-atom/sections/snippets/&quot;&gt;official documentation&lt;/a&gt;. This will explain the definition of each property to use in the Coffeescript object.&lt;/p&gt;
&lt;p&gt;The difficulty with snippets is knowing the correct file scope to use. Since Magento template files are the &lt;code class=&quot;language-text&quot;&gt;.phtml&lt;/code&gt; filetype, they contain both PHP and HTML scope. Luckily there’s a method within Atom to discover the scope you need .&lt;/p&gt;
&lt;p&gt;Open a file in which you want the snippet to be available, and place the cursor in the correct location. Note that scope can vary within a file. For example, if you want the snippet to be available within a &lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php ... ?&amp;gt;&lt;/code&gt; block, place the cursor within a block, and not outside it. Open the command palette and select the &lt;code class=&quot;language-text&quot;&gt;Editor: Log Cursor Scope&lt;/code&gt; command. A notification will appear, showing a list of scopes available. The one required for the snippet should be the top one.&lt;/p&gt;
&lt;p&gt;For my case, I want the snippet to be available within &lt;code class=&quot;language-text&quot;&gt;.phtml&lt;/code&gt; template files, whilst typing HTML. So the scope I need is &lt;code class=&quot;language-text&quot;&gt;.text.html.php&lt;/code&gt; (and not &lt;code class=&quot;language-text&quot;&gt;.source.php&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;.text.html.basic&lt;/code&gt; as I had guessed!).&lt;/p&gt;
&lt;p&gt;When you save your snippet, Atom will automatically reload them and they should be available immediately in your active text editor (if the syntax is correct!). My final result was this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;coffeescript&quot;&gt;&lt;pre class=&quot;language-coffeescript&quot;&gt;&lt;code class=&quot;language-coffeescript&quot;&gt;&lt;span class=&quot;token string&quot;&gt;&apos;.text.html.php&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&apos;translate&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;prefix&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__&apos;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;body&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&amp;lt;?php echo $this-&gt;__(\&apos;${1}\&apos;); ?&gt;&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All I do is type two underscores, hit either tab or enter, and the snippet appears on screen with my cursor focussed at the &lt;code class=&quot;language-text&quot;&gt;${1}&lt;/code&gt; location. Just what I wanted!&lt;/p&gt;
&lt;p&gt;The next time you find yourself typing the same chunk of code repeatedly, think about how you could streamline your process with a snippet instead.&lt;/p&gt;</content:encoded></item></channel></rss>